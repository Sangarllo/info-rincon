"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=267,exports.ids=[267],exports.modules={66267:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{NewsModule:()=>NewsModule});var shared_module=__webpack_require__(55083),router=__webpack_require__(8307),paginator=__webpack_require__(53962),sort=__webpack_require__(11494),table=__webpack_require__(32789),map=__webpack_require__(88002),sweetalert2_all=__webpack_require__(88259),sweetalert2_all_default=__webpack_require__.n(sweetalert2_all),base=__webpack_require__(61160),source=__webpack_require__(26505),status_enum=__webpack_require__(6327);class NewsItem{constructor(id,active,name,image,baseType,status,focused,categories,description,timestamp,source2,sourceUrl){this.id=id,this.active=active,this.name=name,this.image=image,this.baseType=baseType,this.status=status,this.focused=focused,this.categories=categories,this.description=description,this.timestamp=timestamp,this.source=source2,this.sourceUrl=sourceUrl}getUrl(){return`${NewsItem.PATH_URL}/${this.id}`}static InitDefault(){return new NewsItem("0",!0,"",NewsItem.IMAGE_DEFAULT,base.r.NEWS_ITEM,status_enum.q.Visible,!0,[],"",null,source.W,null)}}__name(NewsItem,"NewsItem"),NewsItem.IMAGE_DEFAULT="assets/images/news/default.png",NewsItem.PATH_URL="noticias",NewsItem.STATUS=status_enum.O;var core=__webpack_require__(37716),utils_service=__webpack_require__(19337),log_service=__webpack_require__(22189),spinner_service=__webpack_require__(74649),angular_fire_compat_firestore=__webpack_require__(12376),appointments_service=__webpack_require__(48010);class NewsService{constructor(afs,appointmentSvc){this.afs=afs,this.appointmentSvc=appointmentSvc,this.newsCollection=afs.collection("noticias")}getAllNews(showOnlyActive,modeDashboard,sizeDashboard){return this.newsCollection=modeDashboard?this.afs.collection("noticias",ref=>ref.where("focused","==",!0).where("active","==",!0).where("status","==","VISIBLE").orderBy("timestamp","desc").limit(sizeDashboard)):showOnlyActive?this.afs.collection("noticias",ref=>ref.where("active","==",!0).where("status","==","VISIBLE").orderBy("timestamp","desc")):this.afs.collection("noticias",ref=>ref.orderBy("timestamp","desc")),this.newsCollection.valueChanges()}getAllNewsBase(){return this.newsCollection=this.afs.collection("noticias",ref=>ref.where("active","==",!0).orderBy("name")),this.newsCollection.valueChanges().pipe((0,map.U)(news=>news.map(newsItem=>{if(newsItem.active)return{id:newsItem.id,active:newsItem.active,name:newsItem.name,image:newsItem.image,baseType:base.r.NEWS_ITEM,description:newsItem.description}})))}getOneNewsItem(idNewsItem){return this.newsCollection.doc(idNewsItem).valueChanges({idField:"id"})}addNewsItem(newsItem){newsItem.id=this.afs.createId(),newsItem.timestamp=this.appointmentSvc.getTimestamp(),this.newsCollection.doc(newsItem.id).set(newsItem)}updateNewsItem(newsItem){const idNewsItem=newsItem.id;this.newsItemDoc=this.afs.doc(`noticias/${idNewsItem}`),newsItem.timestamp=this.appointmentSvc.getTimestamp(),this.newsItemDoc.update(newsItem)}deleteNewsItem(newsItem){const idNewsItem=newsItem.id;newsItem.active=!1,newsItem.timestamp=this.appointmentSvc.getTimestamp(),this.newsItemDoc=this.afs.doc(`noticias/${idNewsItem}`),this.newsItemDoc.update(newsItem)}}__name(NewsService,"NewsService"),NewsService.\u0275fac=__name(function(t){return new(t||NewsService)(core.LFG(angular_fire_compat_firestore.ST),core.LFG(appointments_service.O))},"NewsService_Factory"),NewsService.\u0275prov=core.Yz7({token:NewsService,factory:NewsService.\u0275fac,providedIn:"root"});var section_header_component=__webpack_require__(62305),form_field=__webpack_require__(98295),input=__webpack_require__(49983),icon=__webpack_require__(76627),fesm2015_button=__webpack_require__(51095),common=__webpack_require__(38583);function NewsComponent_th_11_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",30),core._uU(1,"Id."),core.qZA())}function NewsComponent_td_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",31),core._uU(1),core.qZA()),2&rf){const element_r20=ctx.$implicit;core.xp6(1),core.Oqu(element_r20.id)}}function NewsComponent_th_14_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",30),core._uU(1,"Estado"),core.qZA())}function NewsComponent_td_15_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",31),core.TgZ(1,"div",32),core._uU(2),core.qZA(),core.qZA()),2&rf){const element_r21=ctx.$implicit;core.Tol(element_r21.status),core.xp6(2),core.Oqu(element_r21.status)}}function NewsComponent_th_17_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",33),core._uU(1,"Fecha Actualizaci\xf3n"),core.qZA())}function NewsComponent_td_18_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",31),core._uU(1),core.qZA()),2&rf){const element_r22=ctx.$implicit;core.xp6(1),core.hij("hace ",element_r22.timestamp,"")}}function NewsComponent_th_20_Template(rf,ctx){1&rf&&core._UZ(0,"th",34)}function NewsComponent_td_21_img_1_Template(rf,ctx){if(1&rf){const _r27=core.EpF();core.TgZ(0,"img",37),core.NdJ("click",__name(function(){core.CHM(_r27);const element_r23=core.oxw().$implicit;return core.oxw().gotoItem(element_r23)},"NewsComponent_td_21_img_1_Template_img_click_0_listener")),core.qZA()}if(2&rf){const element_r23=core.oxw().$implicit;core.Q6J("src",null==element_r23||null==element_r23.source?null:element_r23.source.image,core.LSH)}}function NewsComponent_td_21_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",35),core.YNc(1,NewsComponent_td_21_img_1_Template,1,1,"img",36),core.qZA()),2&rf){const element_r23=ctx.$implicit;core.xp6(1),core.Q6J("ngIf",element_r23.source)}}function NewsComponent_th_23_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",30),core._uU(1,"Fuente"),core.qZA())}function NewsComponent_td_24_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",31),core._uU(1),core.qZA()),2&rf){const newsItem_r29=ctx.$implicit;core.xp6(1),core.hij(" ",null==newsItem_r29||null==newsItem_r29.source?null:newsItem_r29.source.name," ")}}function NewsComponent_th_26_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",38),core._uU(1,"Info de la noticia"),core.qZA())}function NewsComponent_td_27_Template(rf,ctx){if(1&rf){const _r32=core.EpF();core.TgZ(0,"td",39),core.TgZ(1,"button",40),core.NdJ("click",__name(function(){const item_r30=core.CHM(_r32).$implicit;return core.oxw().gotoUrl(item_r30)},"NewsComponent_td_27_Template_button_click_1_listener")),core.TgZ(2,"mat-icon"),core._uU(3,"open_in_new"),core.qZA(),core.qZA(),core.TgZ(4,"div",41),core.NdJ("click",__name(function(){const item_r30=core.CHM(_r32).$implicit;return core.oxw().gotoItem(item_r30)},"NewsComponent_td_27_Template_div_click_4_listener")),core.qZA(),core.TgZ(5,"div",42),core.NdJ("click",__name(function(){const item_r30=core.CHM(_r32).$implicit;return core.oxw().gotoItem(item_r30)},"NewsComponent_td_27_Template_div_click_5_listener")),core._uU(6),core.qZA(),core.TgZ(7,"div",43),core.NdJ("click",__name(function(){const item_r30=core.CHM(_r32).$implicit;return core.oxw().gotoItem(item_r30)},"NewsComponent_td_27_Template_div_click_7_listener")),core._uU(8),core.qZA(),core.qZA()}if(2&rf){const item_r30=ctx.$implicit;core.Tol(item_r30.status),core.xp6(6),core.hij(" actualizado hace ",item_r30.timestamp," "),core.xp6(2),core.hij(" ",item_r30.name," ")}}function NewsComponent_th_29_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",44),core._uU(1,"Categor\xedas"),core.qZA())}function NewsComponent_td_30_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",45),core._uU(1),core.qZA()),2&rf){const newsItem_r36=ctx.$implicit;core.xp6(1),core.Oqu(newsItem_r36.description)}}function NewsComponent_th_32_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",33),core._uU(1,"Nombre"),core.qZA())}function NewsComponent_td_33_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",31),core._uU(1),core.qZA()),2&rf){const newsItem_r37=ctx.$implicit;core.xp6(1),core.Oqu(newsItem_r37.name)}}function NewsComponent_th_35_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",30),core._uU(1,"Acciones "),core.qZA())}function NewsComponent_td_36_Template(rf,ctx){if(1&rf){const _r40=core.EpF();core.TgZ(0,"td",31),core.TgZ(1,"button",46),core.NdJ("click",__name(function(){const newsItem_r38=core.CHM(_r40).$implicit;return core.oxw().gotoUrl(newsItem_r38)},"NewsComponent_td_36_Template_button_click_1_listener")),core.TgZ(2,"mat-icon",47),core._uU(3," open_in_new "),core.qZA(),core.qZA(),core.TgZ(4,"button",48),core.NdJ("click",__name(function(){const newsItem_r38=core.CHM(_r40).$implicit;return core.oxw().gotoItem(newsItem_r38)},"NewsComponent_td_36_Template_button_click_4_listener")),core.TgZ(5,"mat-icon",49),core._uU(6," remove_red_eye "),core.qZA(),core.qZA(),core.TgZ(7,"button",50),core.NdJ("click",__name(function(){const newsItem_r38=core.CHM(_r40).$implicit;return core.oxw().editItem(newsItem_r38)},"NewsComponent_td_36_Template_button_click_7_listener")),core.TgZ(8,"mat-icon",51),core._uU(9," build_circle "),core.qZA(),core.qZA(),core.TgZ(10,"button",52),core.NdJ("click",__name(function(){const newsItem_r38=core.CHM(_r40).$implicit;return core.oxw().deleteItem(newsItem_r38)},"NewsComponent_td_36_Template_button_click_10_listener")),core.TgZ(11,"mat-icon",53),core._uU(12," delete "),core.qZA(),core.qZA(),core.qZA()}if(2&rf){const newsItem_r38=ctx.$implicit;core.xp6(4),core.Q6J("disabled","VISIBLE"!==newsItem_r38.status)}}function NewsComponent_tr_37_Template(rf,ctx){1&rf&&core._UZ(0,"tr",54)}function NewsComponent_tr_38_Template(rf,ctx){1&rf&&core._UZ(0,"tr",55)}__name(NewsComponent_th_11_Template,"NewsComponent_th_11_Template"),__name(NewsComponent_td_12_Template,"NewsComponent_td_12_Template"),__name(NewsComponent_th_14_Template,"NewsComponent_th_14_Template"),__name(NewsComponent_td_15_Template,"NewsComponent_td_15_Template"),__name(NewsComponent_th_17_Template,"NewsComponent_th_17_Template"),__name(NewsComponent_td_18_Template,"NewsComponent_td_18_Template"),__name(NewsComponent_th_20_Template,"NewsComponent_th_20_Template"),__name(NewsComponent_td_21_img_1_Template,"NewsComponent_td_21_img_1_Template"),__name(NewsComponent_td_21_Template,"NewsComponent_td_21_Template"),__name(NewsComponent_th_23_Template,"NewsComponent_th_23_Template"),__name(NewsComponent_td_24_Template,"NewsComponent_td_24_Template"),__name(NewsComponent_th_26_Template,"NewsComponent_th_26_Template"),__name(NewsComponent_td_27_Template,"NewsComponent_td_27_Template"),__name(NewsComponent_th_29_Template,"NewsComponent_th_29_Template"),__name(NewsComponent_td_30_Template,"NewsComponent_td_30_Template"),__name(NewsComponent_th_32_Template,"NewsComponent_th_32_Template"),__name(NewsComponent_td_33_Template,"NewsComponent_td_33_Template"),__name(NewsComponent_th_35_Template,"NewsComponent_th_35_Template"),__name(NewsComponent_td_36_Template,"NewsComponent_td_36_Template"),__name(NewsComponent_tr_37_Template,"NewsComponent_tr_37_Template"),__name(NewsComponent_tr_38_Template,"NewsComponent_tr_38_Template");const _c0=__name(function(){return[5,10,25,100]},"_c0");class NewsComponent{constructor(router2,utilSrv,logSrv,spinnerSvc,newsSrv){this.router=router2,this.utilSrv=utilSrv,this.logSrv=logSrv,this.spinnerSvc=spinnerSvc,this.newsSrv=newsSrv,this.listOfObservers=[],this.dataSource=new table.by,this.displayedColumns=["status","id","timestamp","sourceImage","sourceName","collapsed-info","name","categories","actions4"],this.spinnerSvc.show()}ngOnInit(){const subs1$=this.newsSrv.getAllNews(!1,!1).pipe((0,map.U)(newsItems=>newsItems.map(newsItem=>{const reducer=__name((acc,value)=>`${acc} ${value.substr(0,value.indexOf(" "))}`,"reducer");return newsItem.description=newsItem.categories?newsItem.categories.reduce(reducer,""):"",newsItem.timestamp=this.utilSrv.getDistanceTimestamp(newsItem.timestamp),Object.assign({},newsItem)}))).subscribe(newsItems=>{this.newsItems=newsItems,this.dataSource=new table.by(this.newsItems),this.spinnerSvc.hide(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort});this.listOfObservers.push(subs1$)}applyFilter(filterValue){this.dataSource.filter=filterValue.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}gotoItem(newsItem){this.router.navigate([`${NewsItem.PATH_URL}/${newsItem.id}`])}gotoUrl(newsItem){const externalUrl=newsItem.sourceUrl;sweetalert2_all_default().fire({title:"\xbfEst\xe1s seguro?",html:`Si pulsas OK saldr\xe1s de la aplicaci\xf3n para ir a una direcci\xf3n externa:<br/><br/><a href='${externalUrl}' style='color:red'>${externalUrl}</a>`,imageUrl:newsItem.source.image,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, acceder a la noticia"}).then(result=>{result.isConfirmed&&window.open(newsItem.sourceUrl,"_blank")})}editItem(newsItem){this.router.navigate([`${NewsItem.PATH_URL}/${newsItem.id}/editar`])}deleteItem(newsItem){this.logSrv.info(`Borrando ${newsItem.id}`),sweetalert2_all_default().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s deshacer esta acci\xf3n de borrado!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1S\xed, b\xf3rralo!"}).then(result=>{result.isConfirmed&&(this.newsSrv.deleteNewsItem(newsItem),sweetalert2_all_default().fire("\xa1Borrada!",`${newsItem.name} ha sido borrada`,"success"))})}addItem(){this.router.navigate([`${NewsItem.PATH_URL}/0/editar`])}ngOnDestroy(){this.listOfObservers.forEach(sub=>sub.unsubscribe())}}__name(NewsComponent,"NewsComponent"),NewsComponent.\u0275fac=__name(function(t){return new(t||NewsComponent)(core.Y36(router.F0),core.Y36(utils_service.F),core.Y36(log_service.$V),core.Y36(spinner_service.V),core.Y36(NewsService))},"NewsComponent_Factory"),NewsComponent.\u0275cmp=core.Xpm({type:NewsComponent,selectors:[["app-news"]],viewQuery:__name(function(rf,ctx){if(1&rf&&(core.Gf(paginator.NW,5),core.Gf(sort.YE,5)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.paginator=_t.first),core.iGM(_t=core.CRH())&&(ctx.sort=_t.first)}},"NewsComponent_Query"),decls:44,vars:7,consts:[[3,"title"],[1,"section-wrapper"],["matInput","","placeholder","Filtrar",3,"keyup"],["matSuffix",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","class","td-extra-lg",4,"matHeaderCellDef"],["mat-cell","","class","td-extra-lg",4,"matCellDef"],["matColumnDef","status"],["mat-cell","","class","td-extra-lg",3,"class",4,"matCellDef"],["matColumnDef","timestamp"],["mat-header-cell","","class","td-extra-lg","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","sourceImage"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sourceName"],["matColumnDef","collapsed-info"],["mat-header-cell","","class","td-collapsed-info","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","td-collapsed-info",3,"class",4,"matCellDef"],["matColumnDef","categories"],["mat-header-cell","","class","td-extra-md","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","td-extra-md",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","actions4"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"text-center","m-3"],["mat-fab","","type","button","color","primary",3,"click"],["mat-header-cell","",1,"td-extra-lg"],["mat-cell","",1,"td-extra-lg"],[1,"inside"],["mat-header-cell","","mat-sort-header","",1,"td-extra-lg"],["mat-header-cell",""],["mat-cell",""],["class","img-thumbnail","alt","element.name",3,"src","click",4,"ngIf"],["alt","element.name",1,"img-thumbnail",3,"src","click"],["mat-header-cell","","mat-sort-header","",1,"td-collapsed-info"],["mat-cell","",1,"td-collapsed-info"],["mat-mini-fab","","color","primary","aria-label","Establecer como alerta",1,"button-collapsed",3,"click"],[1,"inside",3,"click"],[2,"font-size","smaller","color","gray",3,"click"],[3,"click"],["mat-header-cell","","mat-sort-header","",1,"td-extra-md"],["mat-cell","",1,"td-extra-md"],["mat-icon-button","","matTooltip","Click to visit news",1,"iconbutton",3,"click"],["aria-label","Go to URL",1,"btn-1"],["mat-icon-button","","matTooltip","Click to View",1,"iconbutton",3,"disabled","click"],["aria-label","View",1,"btn-1"],["mat-icon-button","","matTooltip","Click to Edit",1,"iconbutton",3,"click"],["aria-label","Edit",1,"btn-1"],["mat-icon-button","","matTooltip","Click to Delete",1,"iconbutton",3,"click"],["aria-label","Delete",1,"btn-1"],["mat-header-row",""],["mat-row",""]],template:__name(function(rf,ctx){1&rf&&(core._UZ(0,"app-section-header",0),core.TgZ(1,"div",1),core.TgZ(2,"mat-form-field"),core.TgZ(3,"mat-label"),core._uU(4,"Filtro"),core.qZA(),core.TgZ(5,"input",2),core.NdJ("keyup",__name(function($event){return ctx.applyFilter($event.target.value)},"NewsComponent_Template_input_keyup_5_listener")),core.qZA(),core.TgZ(6,"mat-icon",3),core._uU(7,"search"),core.qZA(),core.qZA(),core.TgZ(8,"div",4),core.TgZ(9,"table",5),core.ynx(10,6),core.YNc(11,NewsComponent_th_11_Template,2,0,"th",7),core.YNc(12,NewsComponent_td_12_Template,2,1,"td",8),core.BQk(),core.ynx(13,9),core.YNc(14,NewsComponent_th_14_Template,2,0,"th",7),core.YNc(15,NewsComponent_td_15_Template,3,3,"td",10),core.BQk(),core.ynx(16,11),core.YNc(17,NewsComponent_th_17_Template,2,0,"th",12),core.YNc(18,NewsComponent_td_18_Template,2,1,"td",8),core.BQk(),core.ynx(19,13),core.YNc(20,NewsComponent_th_20_Template,1,0,"th",14),core.YNc(21,NewsComponent_td_21_Template,2,1,"td",15),core.BQk(),core.ynx(22,16),core.YNc(23,NewsComponent_th_23_Template,2,0,"th",7),core.YNc(24,NewsComponent_td_24_Template,2,1,"td",8),core.BQk(),core.ynx(25,17),core.YNc(26,NewsComponent_th_26_Template,2,0,"th",18),core.YNc(27,NewsComponent_td_27_Template,9,4,"td",19),core.BQk(),core.ynx(28,20),core.YNc(29,NewsComponent_th_29_Template,2,0,"th",21),core.YNc(30,NewsComponent_td_30_Template,2,1,"td",22),core.BQk(),core.ynx(31,23),core.YNc(32,NewsComponent_th_32_Template,2,0,"th",12),core.YNc(33,NewsComponent_td_33_Template,2,1,"td",8),core.BQk(),core.ynx(34,24),core.YNc(35,NewsComponent_th_35_Template,2,0,"th",7),core.YNc(36,NewsComponent_td_36_Template,13,1,"td",8),core.BQk(),core.YNc(37,NewsComponent_tr_37_Template,1,0,"tr",25),core.YNc(38,NewsComponent_tr_38_Template,1,0,"tr",26),core.qZA(),core._UZ(39,"mat-paginator",27),core.qZA(),core.TgZ(40,"div",28),core.TgZ(41,"button",29),core.NdJ("click",__name(function(){return ctx.addItem()},"NewsComponent_Template_button_click_41_listener")),core.TgZ(42,"mat-icon"),core._uU(43,"add"),core.qZA(),core.qZA(),core.qZA(),core.qZA()),2&rf&&(core.Q6J("title","Panel de Configuraci\xf3n de Noticias"),core.xp6(9),core.Q6J("dataSource",ctx.dataSource),core.xp6(28),core.Q6J("matHeaderRowDef",ctx.displayedColumns),core.xp6(1),core.Q6J("matRowDefColumns",ctx.displayedColumns),core.xp6(1),core.Q6J("pageSizeOptions",core.DdM(6,_c0))("pageSize",10))},"NewsComponent_Template"),directives:[section_header_component.I,form_field.KE,form_field.hX,input.Nt,icon.Hw,form_field.R9,table.BZ,sort.YE,table.w1,table.fO,table.Dz,table.as,table.nj,paginator.NW,fesm2015_button.lW,table.ge,table.ev,sort.nU,common.O5,table.XQ,table.Gk],styles:[""]});var seo_service=__webpack_require__(46228),card=__webpack_require__(93738),chips=__webpack_require__(58341);function NewsViewComponent_mat_card_1_div_8_mat_chip_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"mat-chip"),core._uU(1),core.qZA()),2&rf){const category_r7=ctx.$implicit;core.xp6(1),core.Oqu(category_r7)}}function NewsViewComponent_mat_card_1_div_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div"),core.TgZ(1,"mat-chip-list",14),core.YNc(2,NewsViewComponent_mat_card_1_div_8_mat_chip_2_Template,2,1,"mat-chip",15),core.qZA(),core.qZA()),2&rf){const ctx_r3=core.oxw(2);core.xp6(2),core.Q6J("ngForOf",ctx_r3.newsItem.categories)}}function NewsViewComponent_mat_card_1_div_9_Template(rf,ctx){if(1&rf&&core._UZ(0,"div",16),2&rf){const ctx_r4=core.oxw(2);core.Q6J("innerHTML",ctx_r4.newsItem.description,core.oJD)}}function NewsViewComponent_mat_card_1_div_10_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"div"),core.TgZ(1,"span"),core._uU(2,"Fuente:"),core.qZA(),core.TgZ(3,"h2"),core.TgZ(4,"button",17),core.NdJ("click",__name(function(){return core.CHM(_r9),core.oxw(2).gotoUrl()},"NewsViewComponent_mat_card_1_div_10_Template_button_click_4_listener")),core.TgZ(5,"mat-icon"),core._uU(6,"open_in_new"),core.qZA(),core.qZA(),core._uU(7),core.qZA(),core.qZA()}if(2&rf){const ctx_r5=core.oxw(2);core.xp6(7),core.hij(" \xa0 ",ctx_r5.newsItem.source.name," ")}}function NewsViewComponent_mat_card_1_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"mat-card",3),core.TgZ(1,"div",4),core.TgZ(2,"div",5),core._UZ(3,"img",6),core.qZA(),core.TgZ(4,"div",7),core.TgZ(5,"mat-card-content",3),core.TgZ(6,"div",8),core._uU(7),core.qZA(),core.YNc(8,NewsViewComponent_mat_card_1_div_8_Template,3,1,"div",9),core.YNc(9,NewsViewComponent_mat_card_1_div_9_Template,1,1,"div",10),core.YNc(10,NewsViewComponent_mat_card_1_div_10_Template,8,1,"div",9),core.qZA(),core.TgZ(11,"mat-card-actions",11),core.TgZ(12,"button",12),core.NdJ("click",__name(function(){return core.CHM(_r11),core.oxw().gotoList()},"NewsViewComponent_mat_card_1_Template_button_click_12_listener")),core.TgZ(13,"mat-icon"),core._uU(14,"list"),core.qZA(),core.qZA(),core.TgZ(15,"button",13),core.NdJ("click",__name(function(){return core.CHM(_r11),core.oxw().editItem()},"NewsViewComponent_mat_card_1_Template_button_click_15_listener")),core.TgZ(16,"mat-icon"),core._uU(17,"edit"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.xp6(3),core.Q6J("src",ctx_r0.newsItem.source.image,core.LSH),core.xp6(4),core.Oqu(ctx_r0.newsItem.name),core.xp6(1),core.Q6J("ngIf",(null==ctx_r0.newsItem.categories?null:ctx_r0.newsItem.categories.length)>0),core.xp6(1),core.Q6J("ngIf",ctx_r0.notice.description),core.xp6(1),core.Q6J("ngIf",ctx_r0.newsItem.source)}}function NewsViewComponent_ng_template_2_Template(rf,ctx){1&rf&&core._uU(0," No existe tal noticia\n")}__name(NewsViewComponent_mat_card_1_div_8_mat_chip_2_Template,"NewsViewComponent_mat_card_1_div_8_mat_chip_2_Template"),__name(NewsViewComponent_mat_card_1_div_8_Template,"NewsViewComponent_mat_card_1_div_8_Template"),__name(NewsViewComponent_mat_card_1_div_9_Template,"NewsViewComponent_mat_card_1_div_9_Template"),__name(NewsViewComponent_mat_card_1_div_10_Template,"NewsViewComponent_mat_card_1_div_10_Template"),__name(NewsViewComponent_mat_card_1_Template,"NewsViewComponent_mat_card_1_Template"),__name(NewsViewComponent_ng_template_2_Template,"NewsViewComponent_ng_template_2_Template");class NewsViewComponent{constructor(route,router2,seo,logSrv,newsSrv){this.route=route,this.router=router2,this.seo=seo,this.logSrv=logSrv,this.newsSrv=newsSrv,this.listOfObservers=[]}ngOnInit(){this.idNewsItem=this.route.snapshot.paramMap.get("id"),this.idNewsItem&&this.getDetails(this.idNewsItem)}getDetails(idNewsItem){const subs1$=this.newsSrv.getOneNewsItem(idNewsItem).subscribe(newsItem=>{this.urlNewsItem=newsItem.sourceUrl,this.newsItem=newsItem,this.seo.generateTags({title:`${newsItem.name} | ${newsItem.source}`,description:newsItem.description,image:newsItem.image})});this.listOfObservers.push(subs1$)}gotoUrl(){window.open(this.urlNewsItem,"_blank")}gotoList(){this.router.navigate([`/${NewsItem.PATH_URL}`])}editItem(){this.router.navigate([`/${NewsItem.PATH_URL}/${this.idNewsItem}/editar`])}ngOnDestroy(){this.listOfObservers.forEach(sub=>sub.unsubscribe())}}__name(NewsViewComponent,"NewsViewComponent"),NewsViewComponent.\u0275fac=__name(function(t){return new(t||NewsViewComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(seo_service.v),core.Y36(log_service.$V),core.Y36(NewsService))},"NewsViewComponent_Factory"),NewsViewComponent.\u0275cmp=core.Xpm({type:NewsViewComponent,selectors:[["app-news-view"]],decls:4,vars:2,consts:[[1,"section-wrapper"],["class","item-view",4,"ngIf","ngIfElse"],["noNewsTemplate",""],[1,"item-view"],[1,"row"],[1,"col-lg-3","col-md-4","col-12",2,"text-align","center"],[1,"img-thumbnail",3,"src"],[1,"col-lg-9","col-md-8","col-12"],[1,"title"],[4,"ngIf"],["class","description",3,"innerHTML",4,"ngIf"],[1,"buttons","buttons-center"],["mat-fab","",1,"btn-1",3,"click"],["mat-fab","",1,"btn-extra",3,"click"],["aria-label","Categories"],[4,"ngFor","ngForOf"],[1,"description",3,"innerHTML"],["mat-raised-button","","type","button","color","primary",3,"click"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0),core.YNc(1,NewsViewComponent_mat_card_1_Template,18,5,"mat-card",1),core.qZA(),core.YNc(2,NewsViewComponent_ng_template_2_Template,1,0,"ng-template",null,2,core.W1O)),2&rf){const _r1=core.MAs(3);core.xp6(1),core.Q6J("ngIf",ctx.newsItem)("ngIfElse",_r1)}},"NewsViewComponent_Template"),directives:[common.O5,card.a8,card.dn,card.hq,fesm2015_button.lW,icon.Hw,chips.qn,common.sg,chips.HS],styles:[".title[_ngcontent-%COMP%]{font-size:xx-large;font-weight:bolder;line-height:1.8rem}"]});var fesm2015_forms=__webpack_require__(3679),finalize=__webpack_require__(68939),category_enum=__webpack_require__(71773),angular_fire_compat_storage=__webpack_require__(27525),fesm2015_select=__webpack_require__(67441),slide_toggle=__webpack_require__(45396),fesm2015_core=__webpack_require__(72458);function NewsEditComponent_mat_card_2_img_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"img",29),2&rf){const ctx_r4=core.oxw(2);core.Q6J("src",ctx_r4.sourceSelected.image,core.LSH)}}function NewsEditComponent_mat_card_2_mat_option_15_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"mat-option",30),core._uU(1),core.qZA()),2&rf){const status_r9=ctx.$implicit;core.Q6J("value",status_r9),core.xp6(1),core.hij(" ",status_r9," ")}}function NewsEditComponent_mat_card_2_div_35_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div"),core.TgZ(1,"span",31),core._uU(2,"As\xed se visualizar\xeda la Descripci\xf3n:"),core.qZA(),core._UZ(3,"div",32),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(3),core.Q6J("innerHTML",ctx_r6.newsItemForm.controls.description.value,core.oJD)}}function NewsEditComponent_mat_card_2_mat_option_40_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"mat-option",30),core._uU(1),core.qZA()),2&rf){const sourceItem_r10=ctx.$implicit;core.Q6J("value",sourceItem_r10),core.xp6(1),core.hij(" ",sourceItem_r10.name," ")}}function NewsEditComponent_mat_card_2_mat_option_45_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"mat-option",30),core._uU(1),core.qZA()),2&rf){const category_r11=ctx.$implicit;core.Q6J("value",category_r11),core.xp6(1),core.Oqu(category_r11)}}function NewsEditComponent_mat_card_2_Template(rf,ctx){if(1&rf){const _r13=core.EpF();core.TgZ(0,"mat-card",5),core.TgZ(1,"div",6),core.TgZ(2,"div",7),core.YNc(3,NewsEditComponent_mat_card_2_img_3_Template,1,1,"img",8),core.qZA(),core.TgZ(4,"div",9),core.TgZ(5,"form",10),core.NdJ("ngSubmit",__name(function(){return core.CHM(_r13),core.oxw().onSaveForm()},"NewsEditComponent_mat_card_2_Template_form_ngSubmit_5_listener")),core.TgZ(6,"mat-card-content"),core.TgZ(7,"fieldset",11),core.TgZ(8,"legend"),core._uU(9,"Estado de la noticia"),core.qZA(),core.TgZ(10,"div",6),core.TgZ(11,"mat-form-field",12),core.TgZ(12,"mat-label"),core._uU(13,"Estado"),core.qZA(),core.TgZ(14,"mat-select",13),core.YNc(15,NewsEditComponent_mat_card_2_mat_option_15_Template,2,2,"mat-option",14),core.qZA(),core.qZA(),core.TgZ(16,"mat-slide-toggle",15),core._uU(17,"Aviso activo"),core.qZA(),core.TgZ(18,"mat-slide-toggle",16),core._uU(19,"Mostrar en portada"),core.qZA(),core.qZA(),core.qZA(),core.TgZ(20,"fieldset",17),core.TgZ(21,"legend"),core._uU(22,"Informaci\xf3n de la noticia"),core.qZA(),core.TgZ(23,"mat-form-field",18),core.TgZ(24,"mat-label"),core._uU(25,"URL original"),core.qZA(),core._UZ(26,"input",19),core.qZA(),core.TgZ(27,"mat-form-field",18),core.TgZ(28,"mat-label"),core._uU(29,"T\xedtular de la noticia"),core.qZA(),core._UZ(30,"input",20),core.qZA(),core.TgZ(31,"mat-form-field",18),core.TgZ(32,"mat-label"),core._uU(33,"Descripci\xf3n"),core.qZA(),core._UZ(34,"textarea",21),core.qZA(),core.YNc(35,NewsEditComponent_mat_card_2_div_35_Template,4,1,"div",22),core.TgZ(36,"mat-form-field",23),core.TgZ(37,"mat-label"),core._uU(38,"Fuente"),core.qZA(),core.TgZ(39,"mat-select",24),core.NdJ("selectionChange",__name(function($event){return core.CHM(_r13),core.oxw().onSelectionChanged($event)},"NewsEditComponent_mat_card_2_Template_mat_select_selectionChange_39_listener")),core.YNc(40,NewsEditComponent_mat_card_2_mat_option_40_Template,2,2,"mat-option",14),core.qZA(),core.qZA(),core.TgZ(41,"mat-form-field",23),core.TgZ(42,"mat-label"),core._uU(43,"Categor\xedas"),core.qZA(),core.TgZ(44,"mat-select",25),core.YNc(45,NewsEditComponent_mat_card_2_mat_option_45_Template,2,2,"mat-option",14),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(46,"mat-card-actions",26),core.TgZ(47,"button",27),core.TgZ(48,"mat-icon"),core._uU(49,"check"),core.qZA(),core.qZA(),core.TgZ(50,"button",28),core.NdJ("click",__name(function(){return core.CHM(_r13),core.oxw().gotoList()},"NewsEditComponent_mat_card_2_Template_button_click_50_listener")),core.TgZ(51,"mat-icon"),core._uU(52,"list"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.xp6(3),core.Q6J("ngIf",ctx_r0.sourceSelected),core.xp6(2),core.Q6J("formGroup",ctx_r0.newsItemForm),core.xp6(2),core.Q6J("ngClass",ctx_r0.newsItemForm.controls.status.value),core.xp6(7),core.Q6J("value",ctx_r0.newsItemForm.get("status")),core.xp6(1),core.Q6J("ngForOf",ctx_r0.STATUS),core.xp6(20),core.Q6J("ngIf",ctx_r0.newsItemForm.controls.description.value),core.xp6(4),core.Q6J("compareWith",ctx_r0.compareFunction),core.xp6(1),core.Q6J("ngForOf",ctx_r0.SOURCES),core.xp6(5),core.Q6J("ngForOf",ctx_r0.CATEGORIES),core.xp6(2),core.Q6J("title",ctx_r0.newsItemForm.valid?"Guardar con los datos introducidos":"Deshabilitado hasta que los datos sean v\xe1lidos")("disabled",!ctx_r0.newsItemForm.valid)}}function NewsEditComponent_div_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",33),core._uU(1),core.qZA()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.hij(" ",ctx_r1.errorMessage," ")}}function NewsEditComponent_ng_template_4_Template(rf,ctx){1&rf&&core._uU(0," No existe tal noticia\n")}__name(NewsEditComponent_mat_card_2_img_3_Template,"NewsEditComponent_mat_card_2_img_3_Template"),__name(NewsEditComponent_mat_card_2_mat_option_15_Template,"NewsEditComponent_mat_card_2_mat_option_15_Template"),__name(NewsEditComponent_mat_card_2_div_35_Template,"NewsEditComponent_mat_card_2_div_35_Template"),__name(NewsEditComponent_mat_card_2_mat_option_40_Template,"NewsEditComponent_mat_card_2_mat_option_40_Template"),__name(NewsEditComponent_mat_card_2_mat_option_45_Template,"NewsEditComponent_mat_card_2_mat_option_45_Template"),__name(NewsEditComponent_mat_card_2_Template,"NewsEditComponent_mat_card_2_Template"),__name(NewsEditComponent_div_3_Template,"NewsEditComponent_div_3_Template"),__name(NewsEditComponent_ng_template_4_Template,"NewsEditComponent_ng_template_4_Template");class NewsEditComponent{constructor(afStorage,fb,route,router2,logSrv,appointmentSrv,newsSrv){this.afStorage=afStorage,this.fb=fb,this.route=route,this.router=router2,this.logSrv=logSrv,this.appointmentSrv=appointmentSrv,this.newsSrv=newsSrv,this.pageTitle="Creaci\xf3n de una nueva noticia",this.errorMessage="",this.listOfObservers=[],this.STATUS=NewsItem.STATUS,this.CATEGORIES=category_enum.JH,this.SOURCES=source.s,this.urlRegex="(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?"}ngOnInit(){const idNewsItem=this.route.snapshot.paramMap.get("id");idNewsItem&&(this.logSrv.info(`id asked ${idNewsItem}`),this.getDetails(idNewsItem)),this.sourceSelected=source.W,this.newsItemForm=this.fb.group({id:[{value:"0",disabled:!0}],active:!0,status:[status_enum.q.Editing,fesm2015_forms.kI.required],focused:!0,name:["",[fesm2015_forms.kI.required,fesm2015_forms.kI.minLength(3),fesm2015_forms.kI.maxLength(100)]],image:NewsItem.IMAGE_DEFAULT,categories:null,description:"",timestamp:null,source:this.sourceSelected,sourceUrl:["",[fesm2015_forms.kI.required,fesm2015_forms.kI.pattern(this.urlRegex)]]})}getDetails(idNewsItem){if(this.logSrv.info(`id asked ${idNewsItem}`),"0"===idNewsItem)this.pageTitle="Creaci\xf3n de una nueva noticia",this.newsItem=NewsItem.InitDefault();else{const subs1$=this.newsSrv.getOneNewsItem(idNewsItem).subscribe({next:newsItem=>{this.newsItem=newsItem,this.displayNewsItem(),this.logSrv.info(JSON.stringify(this.newsItem))},error:err=>{this.errorMessage=`Error: ${err}`}});this.listOfObservers.push(subs1$)}}displayNewsItem(){var _a,_b,_c,_d,_e,_f;this.newsItemForm&&this.newsItemForm.reset(),"0"===this.newsItem.id?this.pageTitle="Creando una nueva noticia":this.pageTitle=`Editando la noticia ${this.newsItem.name}`,this.sourceSelected=this.newsItem.source,this.newsItemForm.patchValue({id:this.newsItem.id,active:this.newsItem.active,status:this.newsItem.status,focused:this.newsItem.focused,name:this.newsItem.name,image:null!==(_a=this.newsItem.image)&&void 0!==_a?_a:NewsItem.IMAGE_DEFAULT,categories:null!==(_b=this.newsItem.categories)&&void 0!==_b?_b:[],description:null!==(_c=this.newsItem.description)&&void 0!==_c?_c:"",timestamp:null!==(_d=this.newsItem.timestamp)&&void 0!==_d?_d:"",source:null!==(_e=this.sourceSelected)&&void 0!==_e?_e:source.W,sourceUrl:null!==(_f=this.newsItem.sourceUrl)&&void 0!==_f?_f:""}),this.newsItemForm.controls.id.setValue(this.newsItem.id),this.newsItemForm.controls.source.setValue(this.sourceSelected)}onSelectionChanged(event){this.sourceSelected=event.value}compareFunction(o1,o2){return o1.name===o2.name&&o1.id===o2.id}onResetForm(){this.newsItemForm.reset()}onSaveForm(){if(this.newsItemForm.valid){this.newsItem.timestamp=this.appointmentSrv.getTimestamp(),this.newsItem.source=this.sourceSelected,this.newsItem.image=this.sourceSelected.image;const newsItem=Object.assign(Object.assign({},this.newsItem),this.newsItemForm.value);this.logSrv.info(`newsItem: ${JSON.stringify(this.newsItem)}`),"0"===newsItem.id?this.newsSrv.addNewsItem(newsItem):this.newsSrv.updateNewsItem(newsItem),this.router.navigate([NewsItem.PATH_URL])}else this.errorMessage="Por favor, corrige los mensajes de validaci\xf3n."}onSaveComplete(){this.newsItemForm.reset(),sweetalert2_all_default().fire({icon:"success",title:"Datos guardados con \xe9xito",text:`Los datos de ${this.newsItem.name} se han guardado correctamente`}),this.router.navigate([`/${NewsItem.PATH_URL}`])}gotoList(){this.newsItemForm.reset(),this.router.navigate([`/${NewsItem.PATH_URL}`])}uploadImage(event){const file=event.target.files[0],filePath=file.name,fileRef=this.afStorage.ref(filePath),task=this.afStorage.upload(filePath,file);this.uploadPercent=task.percentageChanges(),task.snapshotChanges().pipe((0,finalize.x)(()=>{fileRef.getDownloadURL().subscribe(imageUrl=>{this.newsItem.image=imageUrl,this.newsItemForm.patchValue({image:this.newsItem.image})})})).subscribe()}ngOnDestroy(){this.listOfObservers.forEach(sub=>sub.unsubscribe())}}function NewsDashboardComponent_app_section_header_0_Template(rf,ctx){1&rf&&core._UZ(0,"app-section-header",3),2&rf&&core.Q6J("title","EbroNews")}function NewsDashboardComponent_mat_card_2_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"mat-card",4),core.NdJ("click",__name(function(){const newsItem_r2=core.CHM(_r5).$implicit;return core.oxw().gotoNewsItem(newsItem_r2)},"NewsDashboardComponent_mat_card_2_Template_mat_card_click_0_listener")),core.TgZ(1,"div",5),core.TgZ(2,"span",6),core._uU(3,"\xdaltima actualizaci\xf3n: "),core.qZA(),core.TgZ(4,"span",7),core._uU(5),core.qZA(),core.qZA(),core.TgZ(6,"div",8),core._UZ(7,"img",9),core.qZA(),core.TgZ(8,"mat-card-title"),core.TgZ(9,"p"),core._uU(10),core.qZA(),core.qZA(),core.TgZ(11,"mat-card-content"),core._UZ(12,"p",10),core.qZA(),core.TgZ(13,"mat-card-actions"),core.TgZ(14,"button",11),core._uU(15,"VER"),core.qZA(),core.qZA(),core.qZA()}if(2&rf){const newsItem_r2=ctx.$implicit;core.xp6(5),core.Oqu(newsItem_r2.timestamp),core.xp6(2),core.Q6J("src",newsItem_r2.source.image,core.LSH),core.xp6(3),core.Oqu(newsItem_r2.name),core.xp6(2),core.Q6J("innerHTML",newsItem_r2.description,core.oJD)}}__name(NewsEditComponent,"NewsEditComponent"),NewsEditComponent.\u0275fac=__name(function(t){return new(t||NewsEditComponent)(core.Y36(angular_fire_compat_storage.Q1),core.Y36(fesm2015_forms.qu),core.Y36(router.gz),core.Y36(router.F0),core.Y36(log_service.$V),core.Y36(appointments_service.O),core.Y36(NewsService))},"NewsEditComponent_Factory"),NewsEditComponent.\u0275cmp=core.Xpm({type:NewsEditComponent,selectors:[["app-news-edit"]],decls:6,vars:4,consts:[[3,"title"],[1,"section-wrapper"],["class","item-edit",4,"ngIf","ngIfElse"],["class","alert-danger",4,"ngIf"],["noNewsTemplate",""],[1,"item-edit"],[1,"row"],[1,"col-lg-3","col-md-4","col-12",2,"text-align","center"],["class","img-thumbnail",3,"src",4,"ngIf"],[1,"col-lg-9","col-md-8","col-12"],[3,"formGroup","ngSubmit"],[1,"form-status-fields",3,"ngClass"],["appearance","outline",1,"col-12","col-md-12","col-lg-4"],["formControlName","status",3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","active",1,"col-12","col-md-6","col-lg-3","mb-3","ml-2"],["formControlName","focused",1,"col-12","col-md-6","col-lg-3","mb-3","ml-2"],[1,"form-info-fields"],["appearance","outline"],["matInput","","type","text","formControlName","sourceUrl","placeholder","URL de la Noticia"],["matInput","","type","text","formControlName","name","placeholder","T\xedtulo"],["matInput","","formControlName","description","placeholder","Descripci\xf3n"],[4,"ngIf"],["appearance","outline",1,"col-12","col-lg-6"],["placeholder","Fuente","formControlName","source",3,"compareWith","selectionChange"],["formControlName","categories","multiple",""],[1,"buttons"],["mat-fab","","type","submit",1,"btn-1",3,"title","disabled"],["mat-fab","",1,"btn-1",3,"click"],[1,"img-thumbnail",3,"src"],[3,"value"],[1,"title"],[1,"preview",3,"innerHTML"],[1,"alert-danger"]],template:__name(function(rf,ctx){if(1&rf&&(core._UZ(0,"app-section-header",0),core.TgZ(1,"div",1),core.YNc(2,NewsEditComponent_mat_card_2_Template,53,11,"mat-card",2),core.YNc(3,NewsEditComponent_div_3_Template,2,1,"div",3),core.qZA(),core.YNc(4,NewsEditComponent_ng_template_4_Template,1,0,"ng-template",null,4,core.W1O)),2&rf){const _r2=core.MAs(5);core.Q6J("title",ctx.pageTitle),core.xp6(2),core.Q6J("ngIf",ctx.newsItem)("ngIfElse",_r2),core.xp6(1),core.Q6J("ngIf",ctx.errorMessage)}},"NewsEditComponent_Template"),directives:[section_header_component.I,common.O5,card.a8,fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,card.dn,common.mk,form_field.KE,form_field.hX,fesm2015_select.gD,fesm2015_forms.JJ,fesm2015_forms.u,common.sg,slide_toggle.Rr,input.Nt,fesm2015_forms.Fj,card.hq,fesm2015_button.lW,icon.Hw,fesm2015_core.ey],styles:[""]}),__name(NewsDashboardComponent_app_section_header_0_Template,"NewsDashboardComponent_app_section_header_0_Template"),__name(NewsDashboardComponent_mat_card_2_Template,"NewsDashboardComponent_mat_card_2_Template");class NewsDashboardComponent{constructor(router2,utilSrv,newsSrv){this.router=router2,this.utilSrv=utilSrv,this.newsSrv=newsSrv,this.showHeader=!0}ngOnInit(){this.news$=this.newsSrv.getAllNews(!0,!0,5).pipe((0,map.U)(newsItems=>newsItems.map(newsItem=>(newsItem.timestamp=this.utilSrv.getDistanceTimestamp(newsItem.timestamp),Object.assign({},newsItem)))))}gotoNewsItem(newsItem){this.router.navigate([`/${NewsItem.PATH_URL}/${newsItem.id}`])}}__name(NewsDashboardComponent,"NewsDashboardComponent"),NewsDashboardComponent.\u0275fac=__name(function(t){return new(t||NewsDashboardComponent)(core.Y36(router.F0),core.Y36(utils_service.F),core.Y36(NewsService))},"NewsDashboardComponent_Factory"),NewsDashboardComponent.\u0275cmp=core.Xpm({type:NewsDashboardComponent,selectors:[["app-news-dashboard"]],inputs:{showHeader:"showHeader"},decls:4,vars:4,consts:[[3,"title",4,"ngIf"],[1,"news-wrapper"],["class","news-item","routerLink","profile",3,"click",4,"ngFor","ngForOf"],[3,"title"],["routerLink","profile",1,"news-item",3,"click"],[1,"timestamp"],[1,"title"],[1,"data"],[1,"news-image"],["alt","newsItem.name",1,"img-thumbnail",3,"src"],[3,"innerHTML"],["mat-raised-button","","color","primary"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,NewsDashboardComponent_app_section_header_0_Template,1,1,"app-section-header",0),core.TgZ(1,"div",1),core.YNc(2,NewsDashboardComponent_mat_card_2_Template,16,4,"mat-card",2),core.ALo(3,"async"),core.qZA()),2&rf&&(core.Q6J("ngIf",ctx.showHeader),core.xp6(2),core.Q6J("ngForOf",core.lcZ(3,2,ctx.news$)))},"NewsDashboardComponent_Template"),directives:[common.O5,common.sg,section_header_component.I,card.a8,router.rH,card.n5,card.dn,card.hq,fesm2015_button.lW],pipes:[common.Ov],encapsulation:2});const routes=[{path:"",component:NewsComponent},{path:"dashboard",component:NewsDashboardComponent},{path:":id",component:NewsViewComponent},{path:":id/editar",component:NewsEditComponent}];class NewsRoutingModule{}__name(NewsRoutingModule,"NewsRoutingModule"),NewsRoutingModule.\u0275fac=__name(function(t){return new(t||NewsRoutingModule)},"NewsRoutingModule_Factory"),NewsRoutingModule.\u0275mod=core.oAB({type:NewsRoutingModule}),NewsRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});class NewsModule{}__name(NewsModule,"NewsModule"),NewsModule.\u0275fac=__name(function(t){return new(t||NewsModule)},"NewsModule_Factory"),NewsModule.\u0275mod=core.oAB({type:NewsModule}),NewsModule.\u0275inj=core.cJS({imports:[[shared_module.m,NewsRoutingModule]]})}};