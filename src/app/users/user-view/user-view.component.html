<div class="section-wrapper">

    <mat-card class="item-view" *ngIf="user$ | async as user; else noUserTemplate">

        <mat-card-header>
            <!--
    <mat-icon mat-card-avatar svgIcon="{{user.avatar}}"></mat-icon>
    -->
            <img [src]="user.photoURL" class="img-thumbnail">
            <mat-card-title>
                <h2>{{user.displayName}}</h2>
            </mat-card-title>
            <mat-card-subtitle>
                Rol {{user.role}}
            </mat-card-subtitle>

        </mat-card-header>
        <mat-card-content>

            <mat-chip-list aria-label="User mode">
                <mat-chip color="primary" selected>{{ user.active ? 'activo' : 'no activo '}}</mat-chip>
            </mat-chip-list>

            <mat-tab-group>
                <mat-tab label="Bio">

                    <div>
                        <span>Nombre:</span>
                        <h2>{{ user.displayName }}</h2>
                    </div>

                    <div>
                        <span>Email:</span>
                        <h2>{{ user.email }}</h2>
                    </div>

                    <div>
                        <span>Rol del usuario</span>
                        <h2>{{ user.role }}</h2>
                    </div>

                </mat-tab>

                <mat-tab label="Entidades">
                    <app-user-entities [entities]="user.entitiesAdmin"></app-user-entities>
                </mat-tab>


            </mat-tab-group>

        </mat-card-content>

        <mat-card-actions>
            <button mat-raised-button type="button" (click)="gotoList()" color="warn">Volver al listado</button> &nbsp;
            <button mat-raised-button type="button" (click)="editItem()" color="warn">Editar</button>
        </mat-card-actions>
    </mat-card>

</div>

<ng-template #noUserTemplate>
    <mat-spinner></mat-spinner>
</ng-template>
