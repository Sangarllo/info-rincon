<app-section-header [title]="'Hoy en RincÃ³n de Soto'"></app-section-header>

<div *ngIf="theAlertedNotice$ | async as alertedNotice">
    <app-notice-expansion-panel class="m-1" [notice]="alertedNotice"></app-notice-expansion-panel>
</div>


<app-calendar-day-header [(view)]="view" [(viewDate)]="viewDate" (viewDateChange)="fetchEvents()" (viewChange)="fetchEvents()" [locale]="locale">
</app-calendar-day-header>

<div *ngIf="events$ | async; else loading; let events" style="margin: 4px;">
    <!-- <div *ngIf="events; else loading;" style="margin: 4px;"> -->
    <div *ngIf="events.length" class="alert alert-primary">
        Hay {{ (events.length === 1 ) ? 'un evento:' : "varios eventos:" }}
        <div class="images">
            <img class="img-thumbnail" *ngFor="let event of events" [src]="event.image" (click)="openEventClicked(event)" />
        </div>
    </div>

    <div *ngIf="events.length; else noEvents" class="w-100">
        <mwl-calendar-day-view [viewDate]="viewDate" [events]="events" [dayStartHour]="8" [dayEndHour]="20" (eventClicked)="openEventClicked($event.event)">
        </mwl-calendar-day-view>
    </div>

</div>

<ng-template #loading>
    <div>
        Cargando eventos en la agenda...
    </div>
</ng-template>

<ng-template #noEvents>
    <div class="alert alert-warning ">
        No hay eventos para este dÃ­a
    </div>
</ng-template>